<div class="col-xs-12 col-m-12 col-lg-10 col-lg-push-1">
  <h1 class="text-center" style="padding: 1em"><%= @user.name %></h1>
  <div class="row">
    <div class="text-center" style="position: relative; width: 80%;">
      <canvas id="myChart"></canvas>
    </div>
  </div>

  <div class="row">
    <br><br>
    <h2>Number of donations: <span><strong><%= @user.get_number_of_donations %></strong></span></h2>
    <h2>Total amount donated: <span><strong>$<%= @user.get_total_donated %></strong></span></h2>
    <h2>Largest donation: <span><strong>$<%= @user.get_largest_donation %></strong></span></h2>
    <br>

    <h2>Communities: <span><strong><%= @user.get_communities_str %></strong></span></h2>
    <br>
    <h2>Date Joined: <span><strong><%= @user.created_at %></strong></span></h2>
    <br><br><br><br><br>
  </div>
</div>

<script>
$(function() {
var ctx = document.getElementById("myChart");
var myChart = new Chart(ctx, {
  type: 'line',
  data: {
      labels: ["March", "April", "May", "June", "July", "August", "September", "October", "November", "December", "January", "February"],
      datasets: [
          {
              label: "Number of Donations",
              fill: true,
              lineTension: 0.1,
              backgroundColor: "rgba(75,192,192,0.4)",
              borderColor: "rgba(75,192,192,1)",
              borderCapStyle: 'butt',
              borderDash: [],
              borderDashOffset: 0.0,
              borderJoinStyle: 'miter',
              pointBorderColor: "rgba(75,192,192,1)",
              pointBackgroundColor: "#fff",
              pointBorderWidth: 1,
              pointHoverRadius: 5,
              pointHoverBackgroundColor: "rgba(75,192,192,1)",
              pointHoverBorderColor: "rgba(220,220,220,1)",
              pointHoverBorderWidth: 2,
              pointRadius: 1,
              pointHitRadius: 10,
              data: [0, 0, 3, 2, 1, 3, 1, 0, 0, 3, 1, 4],
              spanGaps: false,
          }
      ]
  },
  options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
});
</script>
